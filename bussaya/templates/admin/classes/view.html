{% extends '/admin/classes/index.html' %}
{% import '/base/error-handler.html' as eh %}
{% import '/admin/classes/project-renderer.html' as renderer %}

{% block breadcrumbs %}
<div class="ui breadcrumb">
	<a href="{{ url_for('admin.classes.index') }}" class="section">Classes</a>
	<div class="divider"> / </div>
	<a href="{{ url_for('admin.classes.view', class_id=class_.id) }}">{{ class_.name }}</a>
</div>
{% endblock %}


{% block content %}

<div class="ui info message">
	<h3>{{ class_.name }}</h3>
	<div>
		<b>Description:</b> {{ class_.description }}
	</div>
	<div>
		<b>Code:</b> {{ class_.code }}
	</div>
	<div>
		<b>Started Date:</b> {{ class_.started_date }}
	</div>
	<div>
		<b>Ended Date:</b> {{ class_.ended_date }}
	</div>
	<div>
		<b>Student IDs:</b> {{ class_.student_ids | join(', ') }}
	</div>

	<div>
		<b>Tag:</b> {{ class_.tags | join(', ') }}
	</div>

	<div>
		<b>Type:</b> {{ class_.get_type_display() }}
	</div>

</div>
<h2 class="ui header">Submissions</h2>
<table class="ui selectable celled table unstackable">
	<thead>
		<tr>
			<th>Type</th>
			<th>Remark</th>
			<th>Started Date</th>
			<th>Ended Date</th>
		</tr>
	</thead>

	<body>
		{% for submission in submissions %}
		<tr>
			<td>
				{{ submission.type }}
			</td>
			<td>
				{{ submission.remark}}
			</td>
			<td>
				{{ submission.started_date }}
			</td>
			<td>
				{{ submission.ended_date }}
			</td>
		</tr>
		{% endfor %}
	</body>
</table>

<a class="ui primary button" href="{{ url_for('submission.add', class_id=class_.id) }}">
	Add Submission
</a>
<h2 class="ui header">Projects</h2>
<div class="ui segment">
	{{ renderer.render_project_table(projects) }}
</div>
{% endblock %}